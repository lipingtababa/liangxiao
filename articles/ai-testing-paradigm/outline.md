# AI Coding的工程造价：瓶颈从代码实现转移到质量控制

**结构**: 列举式（成本变化清单）
**预计字数**: 2000字


**引出核心论点**:

  几乎所有工程问题都可以换成造价问题。传统软件工程的最佳实践,都是在高人力成本约束下的优化方案。AI把写代码的成本降了一个数量级，这些最佳实践的前提假设就不成立了。


---

## 二、变便宜的事 (600字)

### 1. 写代码：几天 → 半个小时
- AI几分钟写完以前需要几天的代码
- 重写比修改更划算——grep全改了就行
- 只要有回归测试，没有不敢改的代码

### 2. 写测试：从奢侈品变成标配
- SQLite测试代码和业务代码比例是590:1
- 以前这是"资源浪费"，现在可以做到了

- 我最近为测试银行集成，直接写了个mock bank，模拟瑞典所有银行的API. mockbank.io是一个真实的SaaS产品。
- 为了测试mock bank，又写了测试代码
- Pre-AI时代这种做法会被开除：成本不可接受
- 有了AI之后，我招呼都不用打就开干了


### 3. 写文档：自动更新，不再过时
- 传统文档一写完就过时
- AI工具可以在代码变更时自动触发文档更新
- 维护文档成本趋近于零
- 实际上，很多文档不需要维护了，LLM直接读代码算了。
- 反而是一些过程性文档，比如决策过程，更为重要，它不在代码中反应，除非LLM去读git commit history

### 4. MVP/原型： 
- 以前：要么排期三个月，要么安排专人团队做demo。 
- 现在：验证一个想法的成本从"几万元"降到"一百块"，Lovable都够了，甚至不需要figma。
- 这会引起组织架构和决策链的变化。

---

## 三、变贵的事（新瓶颈） (500字)

### 1. 定义需求/规格
- AI可以写代码，但不知道该写什么
- AI可以写测试，但不知道什么叫通过
- 我的实际体验：大量时间花在定义产品规格, 合格的产品经理是非常稀缺的，
- AI可以"整理/记录"需求，但不能"定义"需求
- 编码的迭代变得更快，需求的迭代甚至跟不上

### 2. Code Review：成为新瓶颈
- AI产出代码的速度远超人类review的速度
- 我同事抱怨："AI给我五个PR，有三个不能用，还不如我自己写"
- 传统：写代码是瓶颈，review是检查点
- 现在：写代码不是瓶颈，review成了瓶颈
- 人类review速度没有变快，但要review的代码量暴增

### 3. 架构设计

AI懂设计模式，懂架构原则，能画出漂亮的架构图。但它是个"软耳朵"——你说啥它都听，不会跟你争。

架构决策的核心是在约束条件下做平衡：性能和成本的平衡，灵活性和复杂度的平衡，短期交付和长期维护的平衡。这些平衡没有标准答案，需要承担风险、做出取舍。AI不会说"这个需求不合理，我建议砍掉"，它只会想办法实现你说的一切。

一个好的架构师会push back，AI不会。

### 4. Stakeholder Alignment
以银行注册QWAC和QSEAL为例，还是需要数周，成为最大的瓶颈。


---

## 四、变得更重要的一件事 (350字)

### 1. CI/CD：标准化流程
- 和代码不一样，运维可以非常混乱。传统的运维安装手册，极为混乱和脱节，LLM不一定遵守，遵守了也不一定有用。
- CI/CD提供标准化的质量关卡：测试、lint、安全扫描，部署到staging环境，E2E测试。
- 流程标准化 = 减少混乱和误配置
- 从"nice to have"变成"必需品"

---

## 五、瓶颈转移总结 (200字)

**成本结构变化**:
- 写代码：便宜了
- 写测试：便宜了
- 定义需求：没变，成为瓶颈
- Code Review：相对变贵，成为瓶颈
- CI/CD：更重要了

**新的核心能力**:
- 谁能清晰定义"什么叫对"，谁就掌握核心能力
- 写测试 = 定义规格 = 定义需求

---

## 六、结尾：我目前的实践 (150字)
- 团队需要对此有所认知，rethink 老的流程, explore the new workflow. As my collegue said "Marcus, if you have read the code generated by Claude code already, what is the point of me review it again?"
However, it is required to have 4 eyes.
- 团队架构要变化，三人小组（product owner， developer，quality controller）

**邀请讨论**:
- 有兴趣的同好，欢迎留言交流

---
